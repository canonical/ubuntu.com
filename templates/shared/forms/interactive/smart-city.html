<div class="p-modal" id="contact-modal">
  <div class="p-modal__dialog is-wide-modal"
       role="dialog"
       aria-labelledby="modal-title"
       aria-describedby="modal-description">
    <header class="p-modal__header" style="border-bottom: 0;">
      <button class="p-modal__close"
              aria-label="Close active modal"
              style="margin-left: -1rem">Close</button>
    </header>

    <div class="p-section">
      <div class="row--50-50">
        <div class="col">
          <h1 id="modal-title">Pave the way to an open source future</h1>
        </div>
        <div class="col-5">
          <p id="modal-description">
            Canonical partners with silicon companies, board manufacturers and ODMs to help the industry bring smart device and software capabilities to market faster. Tell us about your project so we can bring the right Canonical team members to the conversation to help you.
          </p>
        </div>
      </div>
    </div>

    <form action="/marketo/submit" method="post" id="mktoForm_%% formid %%">
      <div class="p-section--shallow">
        <hr class="p-rule is-fixed-width" />
        <div class="row--50-50 js-formfield">
          <div class="col">
            <label class="p-heading--4 js-formfield-title is-required">Which topics are you interested in?</label>
          </div>
          <div class="col">
            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-energy"
                     name="smart-city-topic"
                     value="Energy"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-energy"
                    name="smart-city-topic"
                    value="Energy">Energy</span>
            </label>

            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-government-services"
                     name="smart-city-topic"
                     value="Government services"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-government-services"
                    name="smart-city-topic"
                    value="Government services">Government services</span>
            </label>

            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-infrastructure"
                     name="smart-city-topic"
                     value="Infrasructure"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-infrastructure"
                    name="smart-city-topic"
                    value="Infrasructure">Infrastructure</span>
            </label>

            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-smart-homes"
                     name="smart-city-topic"
                     value="Smart Homes"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-smart-homes"
                    name="smart-city-topic"
                    value="Smart Homes">Smart Homes</span>
            </label>

            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-environment"
                     name="smart-city-topic"
                     value="Environment"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-environment"
                    name="smart-city-topic"
                    value="Environment">Environment</span>
            </label>

            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-healthcare"
                     name="smart-city-topic"
                     value="Energy"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-healthcare"
                    name="smart-city-topic"
                    value="Energy">Healthcare</span>
            </label>

            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-retail-commerce"
                     name="smart-city-topic"
                     value="Retail and commerce"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-retail-commerce"
                    name="smart-city-topic"
                    value="Retail and commerce">Retail and Commerce</span>
            </label>

            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-telecommunications"
                     name="smart-city-topic"
                     value="Telecommunications"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-telecommunications"
                    name="smart-city-topic"
                    value="Telecommunications">Telecommunications</span>
            </label>

            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-finance"
                     name="smart-city-topic"
                     value="Finance"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-finance"
                    name="smart-city-topic"
                    value="Finance">Finance</span>
            </label>

            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-information-technology"
                     name="smart-city-topic"
                     value="Information Technology"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-information-technology"
                    name="smart-city-topic"
                    value="Information Technology">Information Technology</span>
            </label>

            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-robotics-drones"
                     name="smart-city-topic"
                     value="Robotics and drones"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-robotics-drones"
                    name="smart-city-topic"
                    value="Robotics and drones">Robotics and drones</span>
            </label>

            <label class="p-checkbox">
              <input type="checkbox"
                     aria-labelledby="topic-transport-mobility"
                     name="smart-city-topic"
                     value="Robotics and drones"
                     class="p-checkbox__input" />
              <span class="p-checkbox__label"
                    id="topic-transport-mobility"
                    name="smart-city-topic"
                    value="Robotics and drones">Trasport and mobility</span>
            </label>
            <div class="js-other-container">
              <label class="p-checkbox">
                <input class="p-checkbox__input js-other-container__checkbox"
                       type="checkbox"
                       aria-labelledby="priority-workloads-other" />
                <span class="p-checkbox__label" id="priority-workloads-other">Other</span>
              </label>
              <input type="text"
                     id="priority-workloads-other-specified"
                     class="js-other-container__input"
                     placeholder="Please specify"
                     style="opacity: 0;
                            margin-top: .25rem"
                     aria-label="Other architecture" />
            </div>
          </div>
        </div>
      </div>

      <div class="p-section">
        <hr class="p-rule is-fixed-width" />
        <fieldset class="p-fieldset-section js-formfield"
                  id="about-you"
                  aria-labelledby="about-you-legend">
          <div class="row--50-50">
            <div class="col">
              <legend class="p-heading--4" id="about-you-legend">How should we get in touch?</legend>
            </div>
            <div class="col">
              <ul class="p-list">
                <li class="p-list__item">
                  <label class="is-required" for="firstName">First name:</label>
                  <input required id="firstName" name="firstName" maxlength="255" type="text" />
                </li>
                <li class="p-list__item">
                  <label class="is-required" for="lastName">Last name:</label>
                  <input required id="lastName" name="lastName" maxlength="255" type="text" />
                </li>
                <li class="p-list__item">
                  <label for="company">Company:</label>
                  <input id="company" name="company" maxlength="255" type="text" />
                </li>
                <li class="p-list__item">
                  <label for="title">Job title:</label>
                  <input id="title" name="title" maxlength="255" type="text" />
                </li>
                <li class="p-list__item">
                  <label class="is-required" for="email">Email address:</label>
                  <input required
                         id="email"
                         name="email"
                         maxlength="255"
                         type="email"
                         pattern="^[^ ]+@[^ ]+\.[a-z]{2,26}$" />
                </li>
                <li class="p-list__item">
                  <label class="is-required" for="phone">Mobile/cell phone number:</label>
                  <input required id="phone" name="phone" maxlength="255" type="tel" />
                </li>
                <!-- country -->
                {% include "shared/forms/_country.html" %}
              </ul>
              <ul class="p-list">
                <li class="p-list__item">
                  <label class="p-checkbox">
                    <input class="p-checkbox__input"
                           value="yes"
                           checked
                           aria-labelledby="canonicalUpdatesOptIn"
                           name="canonicalUpdatesOptIn"
                           type="checkbox" />
                    <span class="p-checkbox__label" id="canonicalUpdatesOptIn">I agree to receive information about Canonical's products and services.</span>
                  </label>
                </li>
                <li class="p-list__item u-sv3">
                  By submitting this form, I confirm that I have read and agree to <a href="/legal/data-privacy/contact">Canonical's Privacy Notice</a> and <a href="/legal/data-privacy">Privacy Policy</a>.
                </li>
                {# These are honey pot fields to catch bots #}
                <li class="u-off-screen">
                  <label class="website" for="website">Website:</label>
                  <input name="website"
                         type="text"
                         class="website"
                         autocomplete="off"
                         value=""
                         id="website"
                         tabindex="-1" />
                </li>
                <li class="u-off-screen">
                  <label class="name" for="name">Name:</label>
                  <input name="name"
                         type="text"
                         class="name"
                         autocomplete="off"
                         value=""
                         id="name"
                         tabindex="-1" />
                </li>
                {# End of honey pots #}
                <li class="p-list__item">
                  <button type="submit" class="p-button--positive js-submit-button">Submit</button>
                </li>
              </ul>
              <div class="u-off-screen">
                <label for="Comments_from_lead__c">
                  <h3 class="p-heading--4">Your comments</h3>
                  <textarea id="Comments_from_lead__c"
                            name="Comments_from_lead__c"
                            rows="5"
                            maxlength="2000"></textarea>
                </label>
              </div>
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     name="formid"
                     value="%% formid %%" />
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     name="returnURL"
                     value="%% returnURL %%" />
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     name="Consent_to_Processing__c"
                     value="yes" />
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     name="utm_campaign"
                     id="utm_campaign"
                     value="" />
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     name="utm_medium"
                     id="utm_medium"
                     value="" />
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     name="utm_source"
                     id="utm_source"
                     value="" />
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     name="utm_content"
                     id="utm_content"
                     value="" />
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     name="utm_term"
                     id="utm_term"
                     value="" />
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     name="GCLID__c"
                     id="GCLID__c"
                     value="" />
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     name="Facebook_Click_ID__c"
                     id="Facebook_Click_ID__c"
                     value="" />
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     id="preferredLanguage"
                     name="preferredLanguage"
                     maxlength="255"
                     value="" />
              <input type="hidden"
                     aria-hidden="true"
                     aria-label="hidden field"
                     name="productContext"
                     id="product-context"
                     value="{{ product }}" />
            </div>
          </div>
        </fieldset>
      </div>
    </form>

    <div class="u-hide">
      <div class="row u-no-padding">
        <div class="u-equal-height">
          <div class="col-7">
            <h3 class="p-heading--4">Thank you for enquiring about embedded Ubuntu</h3>
            <p class="p-heading--4">A member of our team will be in touch within one working day.</p>
          </div>
          <div class="col-5 u-vertically-center u-hide--medium u-hide--small u-align--center">
            {{ image(url="https://assets.ubuntu.com/v1/cbae9a60-thank_you_orange_cmyk.svg",
                        alt="smile",
                        width="200",
                        height="200",
                        hi_def=True,
                        loading="auto",) | safe
            }}
          </div>
        </div>
      </div>
      <a class="js-close p-button" href="">Close</a>
    </div>
  </div>
</div>

<script>
  document.querySelector('form').addEventListener('submit', function(event) {
    dataLayer.push({
      'event': 'GAEvent',
      'eventCategory': 'Form',
      'eventAction': 'iot contact-us',
      'eventLabel': '{{ product }}',
      'eventValue': undefined
    });
  });
</script>
