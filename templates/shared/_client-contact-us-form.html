<section class="p-section--hero">
  <div class="row--50-50">
    <div class="col">
      <h1>{{ h1 }}</h1>
    </div>
    <div class="col">
      <p>{{ intro_text }}</p>
    </div>
  </div>
</section>

<section class="p-section">
  <form action="/marketo/submit" method="post" id="mktoForm_{{ formid }}">
    <div class="p-section">
      <hr class="p-rule is-fixed-width" />
      <fieldset class="p-fieldset-section"
                id="about-company"
                aria-labelledby="about-company-legend">
        <div class="row--50-50">
          <div class="col">
            <legend class="p-heading--2" id="about-company-legend">About your company</legend>
          </div>
          <div class="col">
            <ul class="p-list">
              <li class="p-list__item">
                <label class="is-required" for="company">Company name:</label>
                <input required id="company" name="company" maxlength="255" type="text" />
              </li>
              <li class="p-list__item">
                <label class="is-required" for="job-title">Job title:</label>
                <input required id="job-title" name="title" maxlength="255" type="text" />
              </li>
            </ul>
          </div>
        </div>
      </fieldset>
    </div>

    <div class="p-section">
      <hr class="p-rule is-fixed-width" />
      <fieldset class="p-fieldset-section js-formfield"
                aria-labelledby="how-many-machines-legend"
                aria-required="true"
                id="how-many-machines">
        <div class="row--50-50">
          <div class="col">
            <legend class="p-heading--2 js-formfield-title is-required"
                    id="how-many-machines-legend">How many devices?</legend>
          </div>
          <div class="col">
            <label class="p-radio">
              <input required
                     class="p-radio__input"
                     type="radio"
                     aria-labelledby="less-5-machines"
                     name="how-many-machines-do-you-have"
                     value="less than 5" />
              <span class="p-radio__label" id="less-5-machines">&lt;&nbsp;5 machines</span>

            </label>
            <label class="p-radio">
              <input type="radio"
                     aria-labelledby="15-to-15-machines"
                     class="p-radio__input"
                     name="how-many-machines-do-you-have"
                     value="5 to 15 machines" />
              <span class="p-radio__label" id="15-to-15-machines">5&nbsp;&ndash;&nbsp;15 machines</span>
            </label>
            <label class="p-radio">
              <input type="radio"
                     aria-labelledby="15-to-50-machines"
                     class="p-radio__input"
                     name="how-many-machines-do-you-have"
                     value="15 to 50 machines" />
              <span class="p-radio__label" id="15-to-50-machines">15&nbsp;&ndash;&nbsp;50 machines</span>
            </label>
            <label class="p-radio">
              <input type="radio"
                     aria-labelledby="50-to-100-machines"
                     class="p-radio__input"
                     name="how-many-machines-do-you-have"
                     value="50 to 100 machines" />
              <span class="p-radio__label" id="50-to-100-machines">50&nbsp;&ndash;&nbsp;100 machines</span>
            </label>
            <label class="p-radio">
              <input type="radio"
                     aria-labelledby="greater-than-100"
                     class="p-radio__input"
                     name="how-many-machines-do-you-have"
                     value="greater than 100" />
              <span class="p-radio__label" id="greater-than-100">&gt;&nbsp;100 machines</span>
            </label>
          </div>
        </div>
      </fieldset>
    </div>

    <div class="p-section">
      <hr class="p-rule is-fixed-width" />
      <div class="row--50-50 js-formfield">
        <div class="col">
          <label for="comments" class="p-heading--2 js-formfield-title is-required">
            What would you like to talk to us about?
          </label>
        </div>
        <div class="col">
          <textarea required id="comments" rows="5" maxlength="2000"></textarea>
        </div>
      </div>
    </div>

    <div class="p-section">
      <hr class="p-rule is-fixed-width" />
      <fieldset class="p-fieldset-section"
                id="about-you"
                aria-labelledby="about-you-legend">
        <div class="row--50-50">
          <div class="col">
            <legend class="p-heading--2" id="about-you-legend">How should we get in touch?</legend>
          </div>
          <div class="col">
            <ul class="p-list">
              <li class="p-list__item">
                <label class="is-required" for="firstName">First name:</label>
                <input required id="firstName" name="firstName" maxlength="255" type="text" />
              </li>
              <li class="p-list__item">
                <label class="is-required" for="lastName">Last name:</label>
                <input required id="lastName" name="lastName" maxlength="255" type="text" />
              </li>
              <li class="p-list__item">
                <label class="is-required" for="email">Email address:</label>
                <input required
                       id="email"
                       name="email"
                       maxlength="255"
                       type="email"
                       pattern="^[^ ]+@[^ ]+\.[a-z]{2,26}$" />
              </li>
              <li class="p-list__item">
                <label for="phone">Mobile/cell phone number:</label>
                <input id="phone" name="phone" maxlength="255" type="tel" />
              </li>
            </ul>
            <ul class="p-list">
              <li class="p-list__item">
                <label class="p-checkbox">
                  <input class="p-checkbox__input"
                         value="yes"
                         aria-labelledby="canonicalUpdatesOptIn"
                         name="canonicalUpdatesOptIn"
                         type="checkbox" />
                  <span class="p-checkbox__label" id="canonicalUpdatesOptIn">I agree to receive information about Canonical's products and services.</span>
                </label>
              </li>
              <li class="p-list__item u-sv3">
                By submitting this form, I confirm that I have read and agree to <a href="/legal/data-privacy/contact">Canonical's Privacy Notice</a> and <a href="/legal/data-privacy">Privacy Policy</a>.
              </li>
              {# These are honey pot fields to catch bots #}
              <li class="u-off-screen">
                <label class="website" for="website">Website:</label>
                <input name="website"
                       type="text"
                       class="website"
                       autocomplete="off"
                       value=""
                       id="website"
                       tabindex="-1" />
              </li>
              <li class="u-off-screen">
                <label class="name" for="name">Name:</label>
                <input name="name"
                       type="text"
                       class="name"
                       autocomplete="off"
                       value=""
                       id="name"
                       tabindex="-1" />
              </li>
              {# End of honey pots #}
              <li class="p-list__item">
                <button type="submit" class="p-button--positive">Submit</button>
              </li>
            </ul>
            <div class="u-off-screen">
              <label for="Comments_from_lead__c">
                <h3 class="p-heading--4">Your comments</h3>
                <textarea id="Comments_from_lead__c"
                          name="Comments_from_lead__c"
                          rows="5"
                          maxlength="2000"></textarea>
              </label>
            </div>
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="formid"
                   value="{{ formid }}" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="returnURL"
                   value="{{ returnURL }}" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="Consent_to_Processing__c"
                   value="yes" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="utm_campaign"
                   id="utm_campaign"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="utm_medium"
                   id="utm_medium"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="utm_source"
                   id="utm_source"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="utm_content"
                   id="utm_content"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="utm_term"
                   id="utm_term"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="GCLID__c"
                   id="GCLID__c"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="Facebook_Click_ID__c"
                   id="Facebook_Click_ID__c"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   id="preferredLanguage"
                   name="preferredLanguage"
                   maxlength="255"
                   value="" />
          </div>
        </div>
      </fieldset>
    </div>
  </form>
</section>

<div class="p-section">
  <div class="row">
    {% if side1 %}
      <div class="col">{% include side1 %}</div>
    {% endif %}
    {% if side2 %}
      <div class="col">{% include side2 %}</div>
    {% endif %}
  </div>
</div>

<script>
  document.querySelector('form').addEventListener('submit', function(event) {
    dataLayer.push({
      'event': 'GAEvent',
      'eventCategory': 'Form',
      'eventAction': 'iot contact-us',
      'eventLabel': '{{ product }}',
      'eventValue': undefined
    });
  });
</script>
