<section class="p-strip">
  <div class="row">
    <div class="col-8">
      <h1>{{h1}}</h1>
      <p class="p-heading--4">{{intro_text}}</p>
    </div>
  </div>
  <div class="row">
    <div class="col-8">
      <form action="/marketo/submit" method="post" id="mktoForm_{{formid}}" onsubmit="getCustomFields(event)">
        <fieldset class="u-no-margin--bottom">
          <label class="p-heading--3">Tell us about your project</label>
          <textarea id="about-your-project"
            placeholder="What do you want to achieve, which applications and languages do you use, and what's your team's setup?"
            rows="3"></textarea>
        </fieldset>
        <fieldset class="u-no-margin--bottom" id="ubuntu-versions">
          <label class="p-heading--3">If you use Ubuntu, which version(s) are you using?</label>
          <div class="row u-no-padding">
            <div class="col-4 u-sv3">
              <strong>LTS within standard support</strong>
              <label class="p-checkbox">
                <input type="checkbox"
                       aria-labelledby="24-04"
                       class="p-checkbox__input"
                       value="24.04 LTS" />
                <span class="p-checkbox__label" id="22-04">24.04 LTS</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="22-04" class="p-checkbox__input" value="22.04 LTS" />
                <span class="p-checkbox__label" id="22-04">22.04 LTS</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="20-04" class="p-checkbox__input" value="20.04 LTS" />
                <span class="p-checkbox__label" id="20-04">20.04 LTS</span>
              </label>
            </div>
            <div class="col-4 u-sv3">
              <strong>LTS out of standard support</strong>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="18-04" class="p-checkbox__input" value="18.04 LTS" />
                <span class="p-checkbox__label" id="18-04">18.04 LTS</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="16-04" class="p-checkbox__input" value="16.04 LTS" />
                <span class="p-checkbox__label" id="16-04">16.04 LTS</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="14-04" class="p-checkbox__input" value="14.04 LTS" />
                <span class="p-checkbox__label" id="14-04">14.04 LTS</span>
              </label>
            </div>
            <div class="col-4 u-sv3">
              <strong>Outdated or non-LTS releases</strong>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="22-10" class="p-checkbox__input"
                  value="22.10 (interim release)">
                <span class="p-checkbox__label" id="22-10">22.10 (interim release)</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="21-04" class="p-checkbox__input"
                  value="21.04 (interim release)">
                <span class="p-checkbox__label" id="21-04">21.04 (interim release)</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="12-04" class="p-checkbox__input" value="12.04 LTS" />
                <span class="p-checkbox__label" id="12-04">12.04 LTS</span>
              </label>
            </div>
            <div class="col-4 u-sv3">
              <strong>Other</strong>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="dont-use-ubuntu-today" class="p-checkbox__input" value="I don't use Ubuntu today" />
                <span class="p-checkbox__label" id="dont-use-ubuntu-today">I don't use
                  Ubuntu today</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="i-dont-know" class="p-checkbox__input" value="I don't know" />
                <span class="p-checkbox__label" id="i-dont-know">I don't know</span>
              </label>
            </div>
          </div>
        </fieldset>
        <fieldset class="u-no-margin--bottom" id="kind-of-device" aria-required="true">
          <label class="p-heading--3">*What kind of device are you using?</label>
          <div class="row u-no-padding">
            <div class="col-4 u-sv3">
              <label class="p-checkbox">
                <input required class="p-checkbox__input" type="checkbox" aria-labelledby="desktop/workstation" value="desktop/workstation" onclick="validateCheckbox(event, 'kind-of-device')">
                <span class="p-checkbox__label" id="desktop-workstation">Desktop/workstation</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="physical server" class="p-checkbox__input" value="physical server" onclick="validateCheckbox(event, 'kind-of-device')" />
                <span class="p-checkbox__label" id="physical-server">Physical server</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="public-cloud" class="p-checkbox__input" value="public cloud" onclick="validateCheckbox(event, 'kind-of-device')" />
                <span class="p-checkbox__label" id="public-cloud">Public cloud</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="virtual-machine" class="p-checkbox__input" value="virtual machine" onclick="validateCheckbox(event, 'kind-of-device')" />
                <span class="p-checkbox__label" id="virtual-machine">Virtual machine</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="iot-edge-device" class="p-checkbox__input" value="iot/edge device" onclick="validateCheckbox(event, 'kind-of-device')" />
                <span class="p-checkbox__label" id="iot-edge-device">IoT/Edge device</span>
              </label>
            </div>
          </div>
        </fieldset>
        <fieldset class="u-no-margin--bottom" id="how-many-machines">
          <label class="p-heading--3">*How many devices?</label>
          <div class="row u-no-padding">
            <div class="col-4 u-sv3">
              <label class="p-radio">
                <input required class="p-radio__input" type="radio" aria-labelledby="less-5-machines" name="how-many-machines-do-you-have" value="less than 5">
                <span class="p-radio__label" id="less-5-machines">&lt;&nbsp;5 machines</span>
                <p id="5-machines-help" class="p-form-help-text u-no-margin--top u-hide" style="text-indent: 0;">
                  <a href="/pro">Ubuntu Pro</a> is free for personal use, on up to 5 machines.
                </p>
              </label>
              <label class="p-radio">
                <input type="radio" aria-labelledby="15-to-15-machines" class="p-radio__input" name="how-many-machines-do-you-have" value="5 to 15 machines">
                <span class="p-radio__label" id="15-to-15-machines">5&nbsp;&ndash;&nbsp;15 machines</span>
              </label>
              <label class="p-radio">
                <input type="radio" aria-labelledby="15-to-50-machines" class="p-radio__input" name="how-many-machines-do-you-have" value="15 to 50 machines">
                <span class="p-radio__label" id="15-to-50-machines">15&nbsp;&ndash;&nbsp;50 machines</span>
              </label>
              <label class="p-radio">
                <input type="radio" aria-labelledby="50-to-100-machines" class="p-radio__input" name="how-many-machines-do-you-have" value="50 to 100 machines">
                <span class="p-radio__label" id="50-to-100-machines">50&nbsp;&ndash;&nbsp;100 machines</span>
              </label>
              <label class="p-radio">
                <input type="radio" aria-labelledby="greater-than-100" class="p-radio__input" name="how-many-machines-do-you-have" value="greater than 100">
                <span class="p-radio__label" id="greater-than-100">&gt;&nbsp;100 machines</span>
              </label>
            </div>
          </div>
        </fieldset>
        <fieldset class="u-no-margin--bottom" id="how-do-you-consume-open-source">
          <label class="p-heading--3">How do you consume open source?</label>
          <div class="row u-no-padding">
            <div class="col-4 u-sv3 u-no-padding--bottom">
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="ubuntu-repositories" class="p-checkbox__input"
                  value="Ubuntu repositories">
                <span class="p-checkbox__label" id="ubuntu-repositories">Ubuntu repositories</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="github-upstream" class="p-checkbox__input"
                  value="GitHub/Upstream">
                <span class="p-checkbox__label" id="github-upstream">GitHub/Upstream</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="internally-approved-repository" class="p-checkbox__input"
                  value="Internally approved repository">
                <span class="p-checkbox__label" id="internally-approved-repository">Internally approved repository</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="i-dont-know" class="p-checkbox__input" value="I don't know" />
                <span class="p-checkbox__label" id="i-dont-know">I don't know</span>
              </label>
            </div>
          </div>
        </fieldset>
        <fieldset class="u-no-margin--bottom" id="hardening-requirements">
          <label class="p-heading--3">Do you have specific compliance or hardening requirements?</label>
          <div class="row u-no-padding">
            <div class="col-4 u-sv3">
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="pci" class="p-checkbox__input" value="PCI-DSS" />
                <span class="p-checkbox__label" id="pci">PCI-DSS</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="hipaa" class="p-checkbox__input" value="HIPAA" />
                <span class="p-checkbox__label" id="hipaa">HIPAA</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="fisma" class="p-checkbox__input" value="FISMA" />
                <span class="p-checkbox__label" id="fisma">FISMA</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="fips-140" class="p-checkbox__input" value="FIPS 140" />
                <span class="p-checkbox__label" id="fips-140">FIPS 140</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="ncsc" class="p-checkbox__input" value="NCSC" />
                <span class="p-checkbox__label" id="ncsc">NCSC</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="disa-stig" class="p-checkbox__input" value="DISA-STIG" />
                <span class="p-checkbox__label" id="disa-stig">DISA-STIG</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="fedramp" class="p-checkbox__input" value="FedRAMP" />
                <span class="p-checkbox__label" id="fedramp">FedRAMP</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="cis-benchmark" class="p-checkbox__input" value="CIS Benchmark" />
                <span class="p-checkbox__label" id="cis-benchmark">CIS Benchmark</span>
              </label>
            </div>
          </div>
        </fieldset>
        <fieldset class="u-no-margin--bottom" id="responsible-for-tracking">
          <label class="p-heading--3">Who is responsible for tracking, testing and applying CVE patches in a timely manner?</label>
          <div class="row u-no-padding">
            <div class="col-4 u-sv3">
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="pindividual-developers" class="p-checkbox__input"
                  value="Individual developers">
                <span class="p-checkbox__label" id="pindividual-developers">Individual developers</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="project-team" class="p-checkbox__input"
                  value="The project team">
                <span class="p-checkbox__label" id="project-team">The project team</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="3rd-party" class="p-checkbox__input" value="Third-party vendor" />
                <span class="p-checkbox__label" id="3rd-party">Third-party vendor</span>
              </label>
              <label class="p-checkbox">
                <input type="checkbox" aria-labelledby="i-dont-know" class="p-checkbox__input" value="I don't know" />
                <span class="p-checkbox__label" id="i-dont-know">I don't know</span>
              </label>
            </div>
          </div>
        </fieldset>
        <fieldset class="u-no-margin--bottom">
          <label class="p-heading--3">What advice are you looking for?</label>
          <textarea id="advice" aria-label="Tell us about your challenge and your goals"
            placeholder="Tell us about your challenge and your goals" rows="3"></textarea>
        </fieldset>
        <fieldset class="u-no-margin--bottom">
          <label class="p-heading--3">About you</label>
          <ul class="p-list">
            <li class="p-list__item">
              <label class="is-required" for="firstName">First name:</label>
              <input required id="firstName" name="firstName" maxlength="255" type="text" />
            </li>
            <li class="p-list__item">
              <label class="is-required" for="lastName">Last name:</label>
              <input required id="lastName" name="lastName" maxlength="255" type="text" />
            </li>
            <li class="p-list__item">
              <label class="is-required" for="email">Work email:</label>
              <input required id="email" name="email" maxlength="255" type="email"
                pattern="^[^ ]+@[^ ]+\.[a-z]{2,26}$" />
            </li>
            <li class="p-list__item">
              <label for="phone">Phone number:</label>
              <input id="phone" name="phone" maxlength="255" type="tel" />
            </li>
            <li class="p-list__item">
              <label for="company">Company:</label>
              <input id="company" name="company" maxlength="255" type="text" />
            </li>
            <li class="p-list__item">
              <label for="jobTitle">Job title:</label>
              <input id="jobTitle" name="title" maxlength="255" type="text" />
            </li>
            <!-- country -->
            {% include "shared/forms/_country.html" %}
          </ul>
        </fieldset>
        <fieldset class="u-no-margin--bottom">
          <legend class="u-off-screen">Privacy policy</legend>
          <ul class="p-list">
            <li class="p-list__item">
              <label class="p-checkbox">
                <input class="p-checkbox__input" value="yes" aria-labelledby="canonicalUpdatesOptIn"
                  name="canonicalUpdatesOptIn" type="checkbox">
                <span class="p-checkbox__label" id="canonicalUpdatesOptIn">I agree to receive
                  information about Canonical's products and services.</span>
              </label>
            </li>
            <li class="p-list__item">
              By submitting this form, I confirm that I have read and agree to <a
                href="/legal/data-privacy/contact">Canonical's Privacy Notice</a> and <a
                href="/legal/data-privacy">Privacy Policy</a>.
            </li>
            {# These are honey pot fields to catch bots #}
            <li class="u-off-screen">
              <label class="website" for="website">Website:</label>
              <input name="website" type="text" class="website" autocomplete="off" value="" id="website"
                tabindex="-1" />
            </li>
            <li class="u-off-screen">
              <label class="name" for="name">Name:</label>
              <input name="name" type="text" class="name" autocomplete="off" value="" id="name" tabindex="-1" />
            </li>
            {# End of honey pots #}
          </ul>
          <ul class="p-list">
            <li class="p-list__item">
              <button type="submit" class="p-button--positive no-loader" id="form-submit"
                onclick="dataLayer.push({'event' : 'GAEvent', 'eventCategory' : 'Form', 'eventAction' : 'cloud contact-us', 'eventLabel' : '{{product}}', 'eventValue' : undefined });">Submit</button>
            </li>
          </ul>
          <!-- hidden fields -->
          <div class="u-hide">
            <label for="Comments_from_lead__c">Custom fields</label>
            <textarea id="Comments_from_lead__c" name="Comments_from_lead__c" rows="1" maxlength="5000"></textarea>
          </div>
          <input type="hidden" aria-hidden="true" aria-label="hidden field" name="formid" value="{{formid}}" />
          <input type="hidden" aria-hidden="true" aria-label="hidden field" name="returnURL" value="{{returnURL}}" />
          <input type="hidden" aria-hidden="true" aria-label="hidden field" name="Consent_to_Processing__c"
            value="yes" />
          <input type="hidden" aria-hidden="true" aria-label="hidden field" name="utm_campaign" id="utm_campaign"
            value="" />
          <input type="hidden" aria-hidden="true" aria-label="hidden field" name="utm_medium" id="utm_medium"
            value="" />
          <input type="hidden" aria-hidden="true" aria-label="hidden field" name="utm_source" id="utm_source"
            value="" />
          <input type="hidden" aria-hidden="true" aria-label="hidden field" name="utm_content" id="utm_content"
            value="" />
          <input type="hidden" aria-hidden="true" aria-label="hidden field" name="utm_term" id="utm_term" value="" />
          <input type="hidden" aria-hidden="true" aria-label="hidden field" name="GCLID__c" id="GCLID__c" value="" />
          <input type="hidden" aria-hidden="true" aria-label="hidden field" name="Facebook_Click_ID__c" id="Facebook_Click_ID__c" value="" />
          <input type="hidden" aria-hidden="true" aria-label="hidden field" id="preferredLanguage" name="preferredLanguage" maxlength="255" value="" />
          <input type="hidden" aria-hidden="true" aria-label="hidden field" name="Encode_Comments_from_lead__c" id="Encode_Comments_from_lead__c" value="no" />
        </fieldset>
      </form>
    </div>
</section>
<script src="{{ versioned_static('js/dist/contact-forms.js') }}"></script>
<script>
  let fiveMachinesHelpText = document.getElementById("5-machines-help");
  document.getElementsByName("how-many-machines-do-you-have").forEach(
    (radio) => {
      radio.oninput = (e) => { 
        if (e.target.value === "less than 5") {
          fiveMachinesHelpText.classList.remove("u-hide");
        } else {
          fiveMachinesHelpText.classList.add("u-hide");
        }
      }
    }
  )
</script>
