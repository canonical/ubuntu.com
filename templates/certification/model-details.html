{% extends "certification/base_certification.html" %}

{% block title %}Model details | Ubuntu{% endblock %}

{% block meta_description %}Hardware that have been certified for use with Ubuntu.{% endblock meta_description %}
{% block meta_copydoc %}https://docs.google.com/document/d/1QuhO-9FEOGLrYp8bErS_9snqdljl7d6tFAUoNQxoVDQ/edit{% endblock meta_copydoc %}

{% block content %}

<section class="p-strip--suru-topped">
  <div class="row u-sv3">
    <div class="col-7">
      <h1>{{ vendor }} {{ name }}</h1>
      <p class="p-heading--4"> {{ category }} system certified with Ubuntu</p>
    </div>
    <div class="col-5 u-vertically-center u-align--center u-hide--small">
      {% if category == "Desktop" or category == "Laptop" %}
      {{ image (
        url="https://assets.ubuntu.com/v1/4b732966-Laptop.svg",
        alt="",
        width="132",
        height="77",
        hi_def=True,
        loading="auto"
        ) | safe
      }}
      {% endif %}
      {% if category == "Server" %}
      {{ image (
        url="https://assets.ubuntu.com/v1/fdf83d49-Server.svg",
        alt="Server",
        width="80",
        height="96",
        hi_def=True,
        loading="auto"
        ) | safe
      }}
      {% endif %}
      {% if category == "Ubuntu Core" %}
      {{ image (
        url="https://assets.ubuntu.com/v1/f9f8ace9-gateway.svg",
        alt="Gateway",
        width="96",
        height="100",
        hi_def=True,
        loading="auto"
        ) | safe
      }}
      {% endif %}
      {% if category == "Server SoC" %}
      {{ image (
        url="https://assets.ubuntu.com/v1/4e0399a1-chip.svg",
        alt="Chip",
        width="84",
        height="100",
        hi_def=True,
        loading="auto"
        ) | safe
      }}
      {% endif %}
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <h2>Releases</h2>
      <aside class="p-accordion">
        <ul class="p-accordion__list">
          {% for release in release_details["releases"] %}
          <li class="p-accordion__group">
            <div role="heading" aria-level="3" class="p-accordion__heading">
              <button type="button" class="p-accordion__tab" style="background-position: top 1.25rem left 1rem;"id="tab{{ loop.index }}" aria-controls="tab{{ loop.index }}-section" aria-expanded="{% if release_details['releases']|length == 1 %}true{% else %}false{% endif %}"><h3 class="u-no-margin--bottom">{{ release.name }}</h3></button>
            </div>
            <section class="p-accordion__panel" id="tab{{ loop.index }}-section" aria-hidden="{% if release_details['releases']|length == 1 %}false{% else %}true{% endif %}" aria-labelledby="tab{{ loop.index }}">
              <p class="u-no-margin--bottom">Pre-installed in some regions with a custom Ubuntu image that takes advantage of the systemâ€™s hardware features and may include additional software. Standard images of Ubuntu may not work well, or at all.</p>
              <p></p>
              {% if release.kernel %}
              <h4 class="u-no-margin--bottom">Kernel</h4>
              <p>{{ release.kernel }}</p>
              {% endif %}
              {% if release.notes %}
              <h4 class="u-no-margin--bottom">Notes</h4>
              {% for note in release.notes %}
              <p>{{ note.comment }}</p>
              {% endfor %}
              {% endif %}
              <h4>Hardware</h4>
              <table aria-label="Hardware">
                <tbody>
                {% for hardware_subtitle, values in release_details["components"].items() %}
                  <tr>
                    <th colspan="3" class="p-muted-text">{{ hardware_subtitle }}</th>
                    <td colspan="9">{% for value in values %} 
                      <p style="margin-bottom: 0.5rem;"><a href="#">{{ value.name }} {{ value.bus }}</a> ({{ value.identifier }})</p>
                      {% endfor %}
                    </td>
                  </tr>
                {% endfor%}
                </tbody>
              </table>
              <p>
                <a href="/certification/{{ canonical_id }}/{{ release.version }}">Hardware details&nbsp;&rsaquo;</a>
              </p>
            </section>
          </li>
          {% endfor %}
        </ul>
      </aside>
    </div>
  </div>
</section>

{% if components %}
<section class="p-strip--light">
  <div class="u-fixed-width">
    <h2 class="u-sv2">Components certified with this system</h2>
    <table class="p-table--mobile-card p-table--devices" aria-label="Component Devices table">
      <thead>
        <tr>
          <th>Component</th>
          <th class="u-align--center">14.04 ESM</th>
          <th class="u-align--center">16.04 LTS</th>
          <th class="u-align--center">18.04 LTS</th>
          <th class="u-align--center">20.04 LTS</th>
          <th>Comments</th>
        </tr>
      </thead>
      <tbody>
        {% for component in components%}
        <tr>
          <th aria-label="Component"><a href="/certification/component/{{ canonical_id }}">{{ component.vendor_name }} {{ component.model}}</a></th>
          {% for lts_release, details in component.lts_releases.items() %}
            {% if lts_release == '14.04 ESM' %}
              {% if details[0].third_party_driver == True %}
              <td aria-label="14.04 ESM">
                {{ image (
                  url="https://assets.ubuntu.com/v1/8dd0626d-3rd-party-icon.svg",
                  alt="May require third-party driver",
                  width="21",
                  height="14",
                  hi_def=True,
                  loading="lazy"
                  ) | safe
                }}
              </td>
              {% elif details[0].status == 'inprogress' %}
              <td aria-label="14.04 ESM"><i class="p-icon--help">In progress</i></td>
              {% elif details[0].status == 'certified' %}
              <td aria-label="14.04 ESM"><i class="p-icon--success">Supported</i></td>
              {% endif %}
            {% else %}
             <td aria-label="14.04 ESM"></td>
            {% endif %}
            {% if lts_release == '16.04 LTS' %}
              {% if details[0].third_party_driver == True %}
              <td aria-label="16.04 LTS">
                {{ image (
                  url="https://assets.ubuntu.com/v1/8dd0626d-3rd-party-icon.svg",
                  alt="May require third-party driver",
                  width="21",
                  height="14",
                  hi_def=True,
                  attrs={"style":"margin-left: 0.45rem;"},
                  loading="lazy"
                  ) | safe
                }}
              </td>
              {% elif details[0].status == 'inprogress' %}
              <td aria-label="16.04 ESM"><i class="p-icon--help">In progress</i></td>
              {% elif details[0].status == 'certified'%}
              <td aria-label="16.04 LTS"><i class="p-icon--success">Supported</i></td>
              {% endif %}
            {% else %}
             <td aria-label="16.04 LTS"></td>
            {% endif %}
            {% if lts_release == '18.04 LTS' %}
              {% if details[0].third_party_driver == True %}
              <td aria-label="18.04 LTS">
                {{ image (
                  url="https://assets.ubuntu.com/v1/8dd0626d-3rd-party-icon.svg",
                  alt="May require third-party driver",
                  width="21",
                  height="14",
                  hi_def=True,
                  attrs={"style":"margin-left: 0.45rem;"},
                  loading="lazy"
                  ) | safe
                }}
              </td>
              {% elif details[0].status == 'inprogress' %}
              <td aria-label="18.04 ESM"><i class="p-icon--help">In progress</i></td>
              {% elif details[0].status == 'certified'%}
              <td aria-label="18.04 LTS"><i class="p-icon--success">Supported</i></td>
              {% endif %}
            {% else %}
             <td aria-label="18.04 LTS"></td>
            {% endif %}
            {% if lts_release == '20.04 LTS' %}
              {% if details[0].third_party_driver == True %}
              <td aria-label="20.04 LTS">
                {{ image (
                  url="https://assets.ubuntu.com/v1/8dd0626d-3rd-party-icon.svg",
                  alt="May require third-party driver",
                  width="21",
                  height="14",
                  hi_def=True,
                  attrs={"style":"margin-left: 0.45rem;"},
                  loading="lazy"
                  ) | safe
                }}
              </td>
              {% elif details[0].status == 'inprogress' %}
              <td aria-label="20.04 ESM"><i class="p-icon--help">In progress</i></td>
              {% elif details[0].status == 'certified' %}
              <td aria-label="20.04 LTS"><i class="p-icon--success">Supported</i></td>
              {% endif %}
            {% else %}
             <td aria-label="20.04 LTS"></td>
            {% endif %}
          {% endfor %}
          <td aria-label="Comments" >{{ component.note }}</td>
        </tr>
        {% endfor %}
    </table>
    <ul class="p-inline-list" style="margin-left:0.5rem;">
      <li class="p-inline-list__item"><i class="p-icon--success"></i> Supported</li>
      <li class="p-inline-list__item">
          <img src="https://assets.ubuntu.com/v1/8dd0626d-3rd-party-icon.svg" alt=""> May require 3rd-party driver
      </li>
      <li class="p-inline-list__item"><i class="p-icon--help"></i> In progress</li>
    </ul>
  </div>
</section>
{% endif %}

{% endblock content %}
