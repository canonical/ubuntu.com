{% extends "contact-us/base_contact-us.html" %}

{% block title %}Report an issue{% endblock %}

{% block content %}

  <div class="p-strip is-bordered">
    <div class="row p-section">
      <div class="col-8">
        <h1>Report an issue</h1>
        <h2 class="p-heading--4">
          Need help with something? Fill in the form below and a member of our team will be in touch.
        </h2>
      </div>
    </div>
    <div class="row">
      <div class="col-8">
        <form action="/marketo/submit" method="post" id="mktoForm_{{ formid }}">
          <fieldset class="u-no-margin--bottom">
            <label for="exampleSelect">Select your type of issue:</label>
            <select name="exampleSelect" id="exampleSelect">
              <option value="" disabled="disabled" selected="">Select an option</option>
              <option value="invalid-deal-registration-status">Invalid deal registration status</option>
              <option value="payment-issue">Payment issue</option>
              <option value="user-management-issue">User management issue</option>
              <option value="other">Other</option>
            </select>
            <ul class="p-list">
              <li class="p-list__item">
                <label for="FirstName" id="LblFirstName">First name:</label>
                {% if user_info and  "fullname" in user_info %}
                  <input id="FirstName"
                         name="firstName"
                         maxlength="255"
                         type="text"
                         class="is-required"
                         required=""
                         aria-required="true"
                         value="{{ user_info['fullname'].split(" ")[0] }}" />
                {% else %}
                  <input id="FirstName"
                         name="firstName"
                         maxlength="255"
                         type="text"
                         class="is-required"
                         required=""
                         aria-required="true" />
                {% endif %}
              </li>

              <li class="p-list__item">
                <label for="LastName" id="LblLastName">Last name:</label>
                {% if user_info and "fullname" in user_info %}
                  <input id="LastName"
                         name="lastName"
                         maxlength="255"
                         type="text"
                         class="is-required"
                         required=""
                         aria-required="true"
                         value="{{ user_info['fullname'].split(" ")[-1] }}" />
                {% else %}
                  <input id="LastName"
                         name="lastName"
                         maxlength="255"
                         type="text"
                         class="is-required"
                         required=""
                         aria-required="true" />
                {% endif %}
              </li>

              <li class="p-list__item">
                <li class="p-list__item">
                  {% if user_info and "email" in user_info %}
                    <input id="Email"
                           name="email"
                           maxlength="255"
                           type="email"
                           pattern="^[^ ]+@[^ ]+\.[a-z]{2,26}$"
                           class="is-required"
                           aria-required="true"
                           autocomplete="email"
                           value="{{ user_info['email'] }}" />
                  {% else %}
                    <label for="Email" id="LblEmail">Email address:</label>
                    <input id="Email"
                           name="email"
                           maxlength="255"
                           type="email"
                           pattern="^[^ ]+@[^ ]+\.[a-z]{2,26}$"
                           class="is-required"
                           aria-required="true"
                           autocomplete="email" />
                  {% endif %}
                </li>
              </li>

              <li class="p-list__item u-sv3">
                <label for="phone">Mobile/cell phone number:</label>
                <input required id="phone" name="phone" maxlength="255" type="tel" />
              </li>

              <li class="p-list__item">
                <label for="Comments_from_lead__c" style="width: 100%">Describe your issue:</label>
                <textarea id="Comments_from_lead__c"
                          name="Comments_from_lead__c"
                          rows="5"
                          maxlength="2000"></textarea>
              </li>
            </ul>
          </fieldset>
          <fieldset class="u-no-margin--bottom">
            <ul class="p-list">
              <li class="p-list__item">
                In submitting this form, I confirm that I have read and agree to <a href="/legal/data-privacy/contact">Canonical's Privacy Notice</a> and <a href="/legal/data-privacy">Privacy Policy</a>.
              </li>
              {# These are honey pot fields to catch bots #}
              <li class="u-off-screen">
                <label class="website" for="website">Website:</label>
                <input name="website"
                       type="text"
                       class="website"
                       autocomplete="off"
                       value=""
                       id="website"
                       tabindex="-1" />
              </li>
              <li class="u-off-screen">
                <label class="name" for="name">Name:</label>
                <input name="name"
                       type="text"
                       class="name"
                       autocomplete="off"
                       value=""
                       id="name"
                       tabindex="-1" />
              </li>
              {# End of honey pots #}
            </ul>
            <ul class="p-list">
              <li class="p-list__item">
                <button type="submit"
                        class="p-button--positive"
                        onclick="dataLayer.push({'event' : 'GAEvent', 'eventCategory' : 'Form', 'eventAction' : 'cloud contact-us', 'eventLabel' : '{{ product }}', 'eventValue' : undefined });">
                  Submit
                </button>
              </li>
            </ul>
            <!-- hidden fields -->
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="formid"
                   value="{{ formid }}" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="returnURL"
                   value="{{ returnURL }}" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="Consent_to_Processing__c"
                   value="yes" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="utm_campaign"
                   id="utm_campaign"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="utm_medium"
                   id="utm_medium"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="utm_source"
                   id="utm_source"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="utm_content"
                   id="utm_content"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="utm_term"
                   id="utm_term"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="GCLID__c"
                   id="GCLID__c"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   name="Facebook_Click_ID__c"
                   id="Facebook_Click_ID__c"
                   value="" />
            <input type="hidden"
                   aria-hidden="true"
                   aria-label="hidden field"
                   id="preferredLanguage"
                   name="preferredLanguage"
                   maxlength="255"
                   value="" />
          </fieldset>
        </form>
      </div>
    </div>
  </div>

  <div class="u-hide"
       id="contact-form-container"
       data-form-location="/shared/forms/interactive/general"
       data-form-id="1257"
       data-lp-id="2154"
       data-return-url="https://ubuntu.com/contact-us/form/thank-you"
       data-lp-url="https://pages.ubuntu.com/things-contact-us.html"></div>

{% endblock content %}
