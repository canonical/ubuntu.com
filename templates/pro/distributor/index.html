{% extends "templates/base.html" %}

{% block title %}Activate Ubuntu Pro subscription{% endblock %}

{% block outer_content %}

  {% block content %}
    <div id="react-root">
      <div class="row u-align--center">
        <section class="p-strip">
          <div class="row u-align--center">
            <div class="col-12 u-no-margin--bottom p-card">
              <i class="p-icon--spinner u-animation--spin"></i> Loading&hellip;
            </div>
          </div>
        </section>
      </div>
    </div>
    <script src="{{ versioned_static('js/dist/distributor.js') }}"
            type="module"
            defer></script>
    <script>
      // Remove commented out code when product_listings is available.
      // var channelProductList = {
      //   {% for listing_id, listing in product_listings.items() %}
      //     "{{ listing.name }}": {
      //       id: "{{ listing.name }}",
      //       longId: "{{ listing.id }}",
      //       name: "{{ listing.product.name }}",
      //       price: {
      //         value: {{ listing.price }},
      //         currency: "{{ listing.currency }}"
      //       },
      //       productID: "{{ listing.product.id }}",
      //       marketplace: "canonical-pro-channel",
      //     },
      //   {% endfor %}
      // };

      // var accountId = "{% if account %}{{ account.id }}{% endif %}";
      // var isLoggedIn = {% if user_info %}true{% else %}false{% endif %};
      // var accountName = "{% if account %}{{ account.name }}{% endif %}";

      window.stripePublishableKey = "{{ get_stripe_publishable_key }}";
    </script>
  {% endblock %}
{% endblock %}
