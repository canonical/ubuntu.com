{% extends "advantage/base_advantage.html" %} {% block title %}Buy Ubuntu Pro{% endblock %} {% block meta_description %}The online shop for getting your Ubuntu Pro subscription.{% endblock %} {% block
meta_copydoc
%}https://docs.google.com/document/d/1UqL8YJH9ywvOXnrt3syY0U8fiOakfAGWmLS9uerwAWk/edit{%
endblock meta_copydoc %} {% block content %}
  <div class="p-strip is-shallow u-no-padding--bottom is-paper">
    <section class="p-section--shallow">
      <div class="row">
        <div class="col-medium-6 col-9 col-start-large-4">
          <div class="p-block">
            <h1 class="u-no-margin--bottom">Get Ubuntu Pro</h1>
            <p class="p-heading--2">
              Subscribe to Ubuntu Pro or start a free trial below
            </p>
          </div>
        </div>
      </div>
      <div class="p-suru"></div>
    </section>
  </div>

<div id="react-root" class="is-paper">
  <section class="p-strip u-no-padding--top">
    <div class="row">
      <div class="col-12 u-no-margin--bottom p-card">
        <i class="p-icon--spinner u-animation--spin"></i> Loading&hellip;
      </div>
    </div>
  </section>
</div>

<script
  src="{{ versioned_static('js/dist/uaSubscribe.js') }}"
  type="module"
  defer
></script>

<script defer>
  var productList = {
    {% for listing_id, listing in product_listings.items() %}
      "{{ listing.product.id }}-{{ listing.period }}": {
        id: "{{ listing.product.id }}-{{ listing.period }}",
        longId: "{{ listing.id }}",
        name: "{{ listing.product.name }}",
        price: {
          value: {{ listing.price }},
          currency: "{{ listing.currency }}"
        },
        period: "{{ listing.period }}",
        productID: "{{ listing.product.id }}",
        canBeTrialled: {% if listing.can_be_trialled %}true{% else %}false{% endif %},
        private: false,
        marketplace: "canonical-ua",
      },
    {% endfor %}
  };

  var accountId = "{% if account %}{{ account.id }}{% endif %}";
  var isLoggedIn = {% if user_info %}true{% else %}false{% endif %};
  var isTrialling = {% if is_trialling %}true{% else %}false{% endif %};
  var accountName = "{% if account %}{{ account.name }}{% endif %}";
  var previousPurchaseIds = {
    {% for period, id in previous_purchase_ids.items() %}
      "{{ period }}": "{{ id }}",
    {% endfor %}
  }

  window.stripePublishableKey = "{{ get_stripe_publishable_key }}";
</script>

{{ load_form("/pro/subscribe") | safe }}

{% endblock %}
