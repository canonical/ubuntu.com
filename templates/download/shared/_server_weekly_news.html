<div class="p-modal u-hide" id="modal">
  <div class="p-modal__dialog" role="dialog" aria-labelledby="modal-title" aria-describedby="modal-description">
    <header class="p-modal__header">
      <h2 class="p-modal__title" id="modal-title">Get Ubuntu Server pro tips</h2>
      <button class="p-modal__close" aria-label="Close active modal" aria-controls="modal">Close</button>
    </header>
    <form action="/marketo/submit" method="post" id="mktoForm_3485">
      <div class="row u-no-padding">
        <div class="col-6">
          <label for="firstName">First name:</label>
          <input required  id="firstName" name="firstName" maxlength="255" type="text">
          <label for="lastName">Last name:</label>
          <input required  id="lastName" name="lastName" maxlength="255" type="text">
          <label for="company">Company name:</label>
          <input required  id="company" name="company" maxlength="255" type="text">
        </div>
        <div class="col-6">
          <label for="title">Job title:</label>
          <input required  id="title" name="title" maxlength="255" type="text">
          <label for="email">Work email:</label>
          <input required  id="email" name="email" maxlength="255" type="email" pattern="^[^ ]+@[^ ]+\.[a-z]{2,26}$">
          <label for="phone">Mobile/cell phone number:</label>
          <input required id="phone" name="phone" maxlength="255" type="tel" required="required" />
          <div class="u-off-screen">
            {# These are honey pot fields to catch bots #}
            <label class="website" for="website">Website:</label>
            <input name="website" type="text" class="website" autocomplete="off" value="" id="website" tabindex="-1" />
            <label class="name" for="name">Name:</label>
            <input name="name" type="text" class="name" autocomplete="off" value="" id="name" tabindex="-1" />
            {# End of honey pots #}
          </div>
        </div>
      </div>

      <label class="p-checkbox">
        <input class="p-checkbox__input" value="yes" aria-labelledby="canonicalUpdatesOptIn" name="canonicalUpdatesOptIn" type="checkbox">
        <span class="p-checkbox__label" id="canonicalUpdatesOptIn"><small>I would like to receive occasional news from Canonical by email.</small></span>
      </label>

      <p><small>All information provided will be handled in accordance with the Canonical <a href="/legal">privacy policy</a>.</small></p>
      <button type="submit" class="p-button--positive">Download the pro tips</button>
      <input type="hidden" name="formid" value="3485">
      <input type="hidden" name="Consent_to_Processing__c" value="yes" />
      <input type="hidden" aria-hidden="true" aria-label="hidden field" name="utm_campaign" id="utm_campaign" value="" />
      <input type="hidden" aria-hidden="true" aria-label="hidden field" name="utm_medium" id="utm_medium" value="" />
      <input type="hidden" aria-hidden="true" aria-label="hidden field" name="utm_source" id="utm_source" value="" />
      <input type="hidden" aria-hidden="true" aria-label="hidden field" name="utm_content" id="utm_content" value="" />
      <input type="hidden" aria-hidden="true" aria-label="hidden field" name="utm_term" id="utm_term" value="" />
      <input type="hidden" aria-hidden="true" aria-label="hidden field" name="GCLID__c" id="GCLID__c" value="" />
      <input type="hidden" aria-hidden="true" aria-label="hidden field" name="Facebook_Click_ID__c" id="Facebook_Click_ID__c" value="" />
      <input type="hidden" aria-hidden="true" aria-label="hidden field" id="preferredLanguage" name="preferredLanguage" maxlength="255" value="" />
      <input type="hidden" name="returnURL" value="https://assets.ubuntu.com/v1/3bd0daaf-Ubuntu%20Server%20CLI%20cheat%20sheet%202024%20v6.pdf" />
    </form>
  </div>
</div>

<script>
  /**
    Toggles visibility of modal dialog.
    @param {HTMLElement} modal Modal dialog to show or hide.
  */
  function toggleModal(modal) {
    if (modal && modal.classList.contains('p-modal')) {
      modal.classList.toggle('u-hide');
    }
  }

  // Add click handler for clicks on elements with aria-controls
  document.addEventListener('click', function (event) {
    var targetControls = event.target.getAttribute('aria-controls');
    if (targetControls) {
      toggleModal(document.getElementById(targetControls));
    }
  });
</script>
