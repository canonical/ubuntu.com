# Params
# title: Title of text section
# Slots
# paragraph_[1-25]: Description of text section, each list item is a paragraph (required)

{%- macro text(title) -%}
  <section class="p-section">
    <div class="row">
      <div class="col-start-large-4 col-9">
        {% if title %}
          <hr class="p-rule"/>
          <h2 class="p-strip is-shallow">{{ title }}</h2>
        {% endif %}
        {% for number in range(1, 26) %}
          {%- set paragraph_content = caller('paragraph_' + number|string) -%}
          {%- set has_paragraph_content = paragraph_content|trim|length > 0 %}

          {%- if has_paragraph_content -%}
            <div><p>{{ paragraph_content }}</p></div>
          {%- endif -%}

        {% endfor %}
      </div>
    </div>
  </section>
{%- endmacro -%}
