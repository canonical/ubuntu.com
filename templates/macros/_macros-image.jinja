# Params
# caption (optional): Caption for image
# Slots
# image_content (required): Slot for image content, the image must have the class 'p-image-container__image'.

{%- macro image_wrapper(caption="") -%}
  {%- set image_content = caller('image_content') -%}
  {%- set has_image = image_content|trim|length>0 -%}
  <section class="p-section">
    <div class="row">
      {% if has_image %}
        <div class="p-image-container u-align--center u-vertically-center u-no-padding--bottom">
          {{ image_content }}
        </div>
      {% endif %}
      {% if caption %}
        <div class="col-start-large-4 col-9">
          <small class="u-text--muted">{{ caption }}</small>
        </div>
      {% endif %}
    </div>
  </section>
{%- endmacro -%}