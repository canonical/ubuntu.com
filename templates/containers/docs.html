{% extends "containers/base_containers.html" %}

{% from "_macros/vf_hero.jinja" import vf_hero %}
{% from "_macros/vf_linked-logo-section.jinja" import vf_linked_logo_section %}
{% from "_macros/vf_basic-section.jinja" import vf_basic_section %}
{% from "_macros/vf_equal-heights.jinja" import vf_equal_heights %}

{% block title %}Getting started with Canonical containers{% endblock %}

{% block meta_description %}
  Learn about Canonical containers, also known as “rocks”, and how to build your own.
{% endblock meta_description %}

{% block meta_copydoc %}
  https://docs.google.com/document/d/1Vs57mJHBcn_Q48rkR8UrVq8eHvDG7R4581wRhcVQQr0/edit?usp=sharing
{% endblock meta_copydoc %}

{% block meta_image %}
  https://assets.ubuntu.com/v1/9febf64f-circle_of_friends_white_on_orange.png
{% endblock meta_image %}

{% block body_class %}
  is-paper
{% endblock body_class %}

{% block content %}
  {% call(slot) vf_hero(
    title_text='Canonical containers',
    layout='50/50'
    ) -%}
    {%- if slot == 'description' -%}
      <p>
Canonical containers, also known as “rocks”, are a new generation of secure, stable and OCI-compliant Ubuntu images, <a href="https://documentation.ubuntu.com/chisel/en/latest/">hardened by design</a>, and offering a <a href="https://documentation.ubuntu.com/rockcraft/latest/explanation/pebble/">specialized and predictable UX</a>.
      </p>
    {%- endif -%}
  {% endcall -%}

  {{ vf_linked_logo_section(
  title_text="Browse rocks",
  layout="25/75",
  links=[
    {
      "href": "https://hub.docker.com/r/ubuntu/python",
      "text": "Python",
      "label": "Python",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/0f6996e1-python.png",
            alt="",
            width="852",
            height="479",
            hi_def=True,
            loading="auto",
            output_mode="attrs",
            )
    },
    {
      "href": "https://hub.docker.com/r/ubuntu/kafka",
      "text": "Kafka",
      "label": "Kafka",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/b8c98549-kafkat.png",
            alt="",
            width="852",
            height="480",
            hi_def=True,
            loading="auto",
            output_mode="attrs",
            )
    },
    {
      "href": "https://hub.docker.com/r/ubuntu/rabbitmq",
      "text": "RabbitMQ",
      "label": "RabbitMQ",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/16449ede-rabbitmq.png",
            alt="",
            width="852",
            height="480",
            hi_def=True,
            loading="auto",
            output_mode="attrs",
            )
    },
    {
      "href": "https://hub.docker.com/r/ubuntu/dotnet-runtime",
      "text": ".NET Runtime",
      "label": ".NET Runtime",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/941e2f98-net_runtime.png",
            alt="",
            width="852",
            height="480",
            hi_def=True,
            loading="auto",
            output_mode="attrs",
            )
    },
    {
      "href": "https://hub.docker.com/r/ubuntu/valkey",
      "text": "Valkey",
      "label": "Valkey",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/620117a1-valkey.png",
            alt="",
            width="852",
            height="480",
            hi_def=True,
            loading="auto",
            output_mode="attrs",
      )
    },
    {
      "href": "https://hub.docker.com/r/ubuntu/jre",
      "text": "JRE",
      "label": "JRE",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/775f912c-jre.png",
            alt="",
            width="852",
            height="480",
            hi_def=True,
            loading="auto",
            output_mode="attrs",
      )
    }
  ],
) }}

<div class="p-section">
  <div class="grid-row--50-50-on-large">
    <hr class="p-rule" />
    <div class="grid-col">
      <h2>Use a rock</h2>
    </div>
    <div class="grid-col">
      <div class="p-section--shallow">
        <img 
          src="https://assets.ubuntu.com/v1/24d60b8b-use_a_rock.gif" 
          alt="Console illustrating how to use a Python rock" 
          width="1600" 
          height="754" 
          loading="lazy" />
      </div>
      <p>Rocks are hardened to chisel away contents that are unnecessary at runtime, thus preserving the same functionality while reducing the storage footprint and attack surface. Like this Python rock.</p>
    </div>
  </div>
</div>

{% call(slot) vf_equal_heights(
  title_text="Building steps",
  highlight_images=True,
  items=[
    {
      "title_text": "Initialize",
      "image_html":  image(url="https://assets.ubuntu.com/v1/12274ef1-initialize.png",
            alt="",
            width="852",
            height="1278",
            hi_def=True,
            loading="lazy",
            attrs={"class": "p-image-container__image"}
      ) | safe,
      "description_html": "
      <p>
        <a href='https://documentation.ubuntu.com/rockcraft/latest/how-to/get-started'>
          Get started - quick guide
        </a>
        <br />
        <a href='https://documentation.ubuntu.com/rockcraft/latest/tutorial/hello-world/#setup-your-environment'>
          Use Rockcraft with Multipass
        </a>
      </p>
      " | safe,
    
    },
    {
      "title_text": "Craft",
      "image_html": image(url="https://assets.ubuntu.com/v1/026825c5-craft.png",
            alt="",
            width="852",
            height="1278",
            hi_def=True,
            loading="lazy",
            attrs={"class": "p-image-container__image"},
       ) | safe,
       "description_html": "
      <p>
        <a href='https://documentation.ubuntu.com/rockcraft/latest/reference/rockcraft-yaml/'>
          Rocks project file
        </a>
        <br />
        <a href='https://canonical-craft-parts.readthedocs-hosted.com/latest/how-to/use_parts/'>
          Use parts to build your container application
        </a>
        <br />
        <a href='https://documentation.ubuntu.com/rockcraft/latest/how-to/crafting/convert-to-pebble-layer/'>
          Define rocks services
        </a>
        <br />
        <a href='https://documentation.ubuntu.com/rockcraft/latest/how-to/chiselling/chisel-existing-rock/#chisel-the-python-rock'>
          Harden a rock
        </a>
        <br />
        <a href='https://documentation.ubuntu.com/rockcraft/latest/how-to/chiselling/install-slice/'>
          Install a custom package slice
        </a>
        <br />
        <a href='https://documentation.ubuntu.com/rockcraft/latest/how-to/crafting/add-internal-user-to-a-rock/'>
          Define a non root user
        </a>
      </p>
      " | safe,
    },
    {
      "title_text": "Pack",
      "image_html": image(url="https://assets.ubuntu.com/v1/ef2eb5e9-pack.png",
            alt="",
            width="852",
            height="1278",
            hi_def=True,
            loading="lazy",
            attrs={"class": "p-image-container__image"},
      ) | safe,
      "description_html": "
      <p>
        <a href='https://documentation.ubuntu.com/rockcraft/latest/reference/commands/pack/'>
          Pack a rock
        </a>
      </p>
      " | safe,
    }
  ]
) %}
{% endcall %}

{{ vf_basic_section(
  title={"text": "Get started with rocks"},
  padding="shallow",
  items=[
    {
      "type": "description",
      "item": {
        "type": "html",
        "content": "<p>Try building a <a href='https://documentation.ubuntu.com/rockcraft/latest/tutorial/hello-world/#tutorial-create-a-hello-world-rock'>'Hello world' rock</a>. You can also build rocks for a variety of applications.</p>"
      }
    }
  ]
) }}

{{ vf_linked_logo_section(
  title_text="",
  top_rule_variant="none",
  layout="25/75",
  padding="deep",
  links=[
    {
      "href": "https://documentation.ubuntu.com/rockcraft/latest/tutorial/flask/",
      "text": "Flask",
      "label": "Flask",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/a2d5e5ca-flask.png",
            alt="",
            width="852",
            height="480",
            hi_def=True,
            loading="lazy",
            output_mode="attrs",
            )
    },
    {
      "href": "https://documentation.ubuntu.com/rockcraft/latest/tutorial/django/",
      "text": "Django",
      "label": "Django",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/dc8d56ca-django.png",
            alt="",
            width="852",
            height="480",
            hi_def=True,
            loading="lazy",
            output_mode="attrs",
            )
    },
    {
      "href": "https://documentation.ubuntu.com/rockcraft/latest/tutorial/fastapi/",
      "text": "FastAPI",
      "label": "FastAPI",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/9d2ae13c-fastapi.png",
            alt="",
            width="852",
            height="480",
            hi_def=True,
            loading="lazy",
            output_mode="attrs",
            )
    },
    {
      "href": "https://documentation.ubuntu.com/rockcraft/latest/tutorial/go/",
      "text": "Go",
      "label": "Go",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/3a282fac-go.png",
            alt="",
            width="852",
            height="480",
            hi_def=True,
            loading="lazy",
            output_mode="attrs",
            )
    },
    {
      "href": "https://documentation.ubuntu.com/rockcraft/latest/tutorial/express/",
      "text": "Express",
      "label": "Express",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/28615cea-express.png",
            alt="",
            width="852",
            height="480",
            hi_def=True,
            loading="lazy",
            output_mode="attrs",
            )
    },
    {
      "href": "https://documentation.ubuntu.com/rockcraft/latest/tutorial/springboot/",
      "text": "Spring Boot",
      "label": "Spring Boot",
      "image_attrs": image(url="https://assets.ubuntu.com/v1/001aa9b3-spring_boot.png",
            alt="",
            width="852",
            height="480",
            hi_def=True,
            loading="lazy",
            output_mode="attrs",
            )
    }
  ],
) }}

  {% endblock %}
