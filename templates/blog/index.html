{% extends "templates/one-column.html" %}

{% from "_macros/vf_hero.jinja" import vf_hero %}

{% block title %}Ubuntu Blog{% endblock %}

{% block extra_metatags %}
  <link rel="alternate"
        type="application/rss+xml"
        href="/blog/feed"
        title="Ubuntu.com's Blog RSS feed" />
{% endblock %}

{% block body_class %}
  is-paper
{% endblock body_class %}

{% block content %}

  {% call(slot) vf_hero(
    title_text='Blog',
    layout='25/75'
    ) -%}
    {%- if slot == 'signpost_image' -%}
      <div class="u-hide"></div>
    {%- endif -%}
  {%- endcall -%}

  {% if current_page and current_page == 1 %}
    {% if featured_articles %}
      {% include "blog/featured-articles.html" %}
    {% endif %}
    <div class="row p-section">
      <hr class="p-rule" />
      <div class="col-3 col-medium-2">
        <h2>
          Newsletter
          <br class="u-hide--small" />
          signup
        </h2>
      </div>

      <div class="col-9 col-medium-4">{% include 'blog/newsletter-form.html' %}</div>
    </div>
  {% endif %}
  <section class="p-section" id="posts-list">
    <div class="row">
      {% for article in articles %}
        {% include 'blog/blog-card.html' %}
      {% endfor %}
    </div>
  </section>

  {% with %}
    {% set total_pages = total_pages %}
    {% set current_page = current_page %}
    {% include "blog/shared/_pagination.html" %}
  {% endwith %}

{% endblock content %}
