var cpNs=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var l=[{id:"essential",enableSwitcher:!1,content:{default:{title:"Essential",description:"Enables the site's core functionality, such as navigation, access to secure areas, video players and payments. The site cannot function properly without these cookies; they can only be disabled by changing your browser preferences.",activeText:"Always active"},zh:{title:"必要性",description:"启用网站核心功能，例如导航，访问安全区域，视频播放器和支付。没有这些cookie网站不能正常工作；它们仅可通过修改浏览器偏好设置禁用。",activeText:"默认接受"},ja:{title:"エッセンシャル",description:"移動、保護されている情報へのアクセス、動画再生、支払など、サイトの基本的な機能が有効になります。これらのクッキーが有効になっていない（お使いのブラウザの設定を変更することによってクッキーが無効化されている）場合、サイトは正しく表示されません。",activeText:"常に有効"}}},{id:"performance",enableSwitcher:!0,content:{default:{title:"Performance",description:"Collects information on site usage, for example, which pages are most frequently visited."},zh:{title:"表现性",description:"网站使用信息收集，例如哪些网页被频繁访问。"},ja:{title:"パフォーマンス",description:"サイトの利用状況に関する情報を収集します。例として、どのページの訪問頻度が高いかのような情報です。"}}},{id:"functionality",enableSwitcher:!0,content:{default:{title:"Functional",description:"Recognizes you when you return to our site. This enables us to personalize content, greet you by name, remember your preferences, and helps you share pages on social networks."},zh:{title:"功能性",description:"当你返回到我们网站时能识别您。这使得我们能个性化内容，欢迎您，记住您的偏好设置，以及帮助您分享网页到社交媒体。"},ja:{title:"機能性",description:"お客様がサイトを再訪問したときに、お客様であることを認識します。この設定では、お客様に合わせたコンテンツの表示、お客様のお名前を用いたあいさつメッセージの表示、お客様の傾向の記録を当社が行えるようになります。また、お客様がソーシャルネットワークでページをシェアできるようになります。"}}}],d={default:{notification:{title:"Your tracker settings",body1:'We use cookies and similar methods to recognize visitors and remember preferences. We also use them to measure campaign effectiveness and analyze site traffic. By selecting ‘Accept‘, you consent to the use of these methods by us and trusted third parties. For further details or to change your consent choices at any time see our <a href="https://canonical.com/legal/data-privacy?cp=hide#cookies">cookie policy</a>.',buttonManage:"Manage your tracker settings",buttonAcceptAll:"Accept all"},manager:{title:"Tracking choices",body1:"We use cookies to recognize visitors and remember your preferences. They enhance user experience, personalize content and ads, provide social media features, measure campaign effectiveness, and analyze site traffic.",body2:'Select the types of trackers you consent to, both by us, and third parties. Learn more at <a href="https://canonical.com/legal/data-privacy?cp=hide#cookies">data privacy: cookie policy</a> - you can change your choices at any time from the footer of the site.',acceptAll:"Accept all",SavePreferences:"Save preferences"}},zh:{notification:{title:"您的追踪器设置",body1:'我们使用cookie和相似的方法来识别访问者和记住偏好设置。我们也用它们来衡量活动的效果和网站流量分析。选择”接受“，您同意我们和受信的第三方来使用这些方式。更多内容或者随时地变更您的同意选择，请点击我们的<a href="https://canonical.com/legal/data-privacy?cp=hide#cookies"> cookie 策略</a>。',buttonManage:"管理您的追踪器设置",buttonAcceptAll:"接受"},manager:{title:"追踪选项",body1:"我们使用cookie来识别访问者和记住您的偏好设置 它们增强用户体验，使内容和广告个性化，提供社交媒体功能，衡量活动效果和网站流量分析。",body2:'选择您同意授予我们和受信的第三方的追踪类型。点击<a href="https://canonical.com/legal/data-privacy?cp=hide#cookies">数据隐私：cookie策略</a>了解更多，您可以在网站底部随时更改您的选择。',acceptAll:"接受全部",SavePreferences:"保存偏好设置"}},ja:{notification:{title:"トラッキング機能の設定",body1:"当社は、当社のウェブサイトを訪問された方の識別や傾向の記録を行うために、クッキーおよび類似の手法を利用します。また、キャンペーンの効果の測定やサイトのトラフィックの分析にもクッキーを利用します。",body2:'「同意」を選択すると、当社および信頼できる第三者による上記の手法の利用に同意したものとみなされます。詳細または同意の変更については、いつでも当社の<a href="https://canonical.com/legal/data-privacy?cp=hide#cookies">クッキーに関するポリシー</a>をご覧になることができます',buttonManage:"トラッキング機能の設定の管理",buttonAcceptAll:"同意する"},manager:{title:"トラッキング機能の選択",body1:"当社は、当社のウェブサイトを訪問された方の識別や傾向の記録を行うために、クッキーを利用します。クッキーは、お客様の利便性の向上、お客様に合わせたコンテンツや広告の表示、ソーシャルメディア機能の提供、キャンペーンの効果の測定、サイトのトラフィックの分析に役立ちます。",body2:'当社および第三者によるトラッキング機能のタイプから、お客様が同意されるものをお選びください。詳細は、<a href="https://canonical.com/legal/data-privacy?cp=hide#cookies">データプライバシー：クッキーに関するポリシー</a>をご覧ください。お客様が選んだ設定は、本サイトの下部からいつでも変更できます。',acceptAll:"すべて同意",SavePreferences:"設定を保存"}}},u={ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",functionality_storage:"denied",personalization_storage:"denied",security_storage:"denied"},p=["security_storage"],h=["ad_storage","ad_user_data","ad_personalization","analytics_storage"],f=["functionality_storage","personalization_storage"],y=["ad_storage","ad_user_data","ad_personalization","analytics_storage","functionality_storage","personalization_storage"],g=function(e){var t=new Date;t.setTime(t.getTime()+31536e6);var n="expires="+t.toUTCString();document.cookie="_cookies_accepted="+e+"; "+n+"; samesite=lax;path=/;",j(e)&&S()},b=function(e){for(var t=document.cookie.split(";"),n="",o="",i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1);o=a.substring(e.length,a.length),0===a.indexOf(e)&&"true"!==o&&(n=o)}return n},v=function(e){return d[e]?d[e]:d.default},m=function(e,t){return e.content[t]?e.content[t]:e.content.default},k=function(e){var t=_(u,e);w(t)},_=function(e,t){var n=c({},e);return p.forEach((function(e){n[e]="granted"})),"performance"===t?h.forEach((function(e){n[e]="granted"})):"functionality"===t?f.forEach((function(e){n[e]="granted"})):"all"===t&&y.forEach((function(e){n[e]="granted"})),n},w=function(e){window.gtag("consent","update",e)},S=function(){"object"===("undefined"==typeof dataLayer?"undefined":s(dataLayer))&&dataLayer.push({event:"pageview"})},j=function(e){return"all"==e||"performance"==e};var E=function(e){e.addEventListener("click",(function(e){var t=e.target;if(t.closest&&(t=t.closest('[class*="p-accordion__tab"]')),t){var n="true"===t.getAttribute("aria-expanded");!function(e,t){var n=document.getElementById(e.getAttribute("aria-controls"));n&&(e.setAttribute("aria-expanded",t),n.setAttribute("aria-hidden",!t))}(t,!n)}}))},A=function(e,t){return function(){g(e),k(e),t()}};function L(){var e=b("_cookies_service_up=");if(e&&"1"===e){var t=b("_cookies_accepted=");t&&fetch("/cookies/set-preferences",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({preferences:{consent:t}})}).catch((function(e){return console.error("Error sending preferences:",e)}))}}var O=function(){return o((function e(n,o,i){t(this,e),this.container=n,this.renderManager=o,this.destroyComponent=i}),[{key:"getNotificationMarkup",value:function(e){var t=v(e).notification;return'\n      <div class="p-modal cookie-notification-modal" id="modal">\n        <div class="p-modal__dialog" role="dialog" aria-labelledby="cookie-policy-title" aria-describedby="cookie-policy-content">\n        <header class="p-modal__header grid-row">\n          <h2 class="p-modal__title p-heading--4" id="cookie-policy-title">'.concat(t.title,'</h2>\n        </header>\n        <div id="cookie-policy-content" class="grid-row">\n          <div class="grid-col-5">\n            <p class="u-no-max-width').concat(t.body2?" u-no-margin--bottom":"",'">').concat(t.body1,"</p>\n            ").concat(t.body2?'<p class="u-no-max-width">'.concat(t.body2,"</p> "):"",'\n          </div>\n          <div class="cookie-notification-buttons grid-col-3 u-vertically-center">\n            <p class="u-no-margin--bottom">\n              <button class="p-button--link is-inline js-manage">').concat(t.buttonManage,'</button>\n              <button class="p-button--positive js-close-all" id="cookie-policy-button-accept-all">').concat(t.buttonAcceptAll,"</button>\n            </p>\n          </div>\n        </div>")}},{key:"render",value:function(e){this.container.innerHTML=this.getNotificationMarkup(e);var t=b("_cookies_accepted=");t&&"unset"!==t||(g("essential"),k("essential")),this.initaliseListeners()}},{key:"initaliseListeners",value:function(){var e=this;this.container.querySelector(".js-close-all").addEventListener("click",(function(){A("all",e.destroyComponent)(),L()})),this.container.querySelector(".js-manage").addEventListener("click",(function(){e.renderManager()}))}}])}(),P=function(){return o((function e(n,o,i){t(this,e),this.language=i,this.id=n.id,this.title=m(n,i).title,this.description=m(n,i).description,this.activeText=m(n,i).activeText,this.enableSwitcher=n.enableSwitcher,this.container=o,this.element,this.onChange=n.onChange||function(){},this.render()}),[{key:"render",value:function(){var e,t=this.cookieIsTrue(),n=document.createElement("div");n.innerHTML='\n    <li class="controls p-accordion__group">                \n      <div role="heading" aria-level="3" class="p-accordion__heading">\n        <button type="button" class="p-accordion__tab" id="'.concat(this.id,'-tab" aria-controls="').concat(this.id,'-section" aria-expanded="false">\n          <span class="p-heading--5 u-no-padding--top u-no-margin--bottom" style="margin-right: 1rem;">').concat(this.title,"</span>\n          ").concat(this.enableSwitcher?"\n            ".concat('<label class="p-accordion__switch u-align--right u-no-margin--bottom p-switch">\n              <input type="checkbox" class="p-switch__input js-'.concat(this.id,'-switch" ').concat((t||!this.enableSwitcher)&&'checked="" ',"\n                ").concat(!this.enableSwitcher&&'disabled="disabled"','>            \n              <span class="p-switch__slider"></span>\n            </label>\n            '),"\n        "):'<span class="p-accordion__switch u-text--muted u-align--right">'.concat(this.activeText,"</span>"),'\n        </button>\n        \n      </div>\n      <section class="p-accordion__panel" id="').concat(this.id,'-section" aria-hidden="true" aria-labelledby="').concat(this.id,'-tab">\n        <p>').concat(this.description,'</p>\n      </section>\n    </li>\n    <hr class="p-rule--muted" />\n    '),this.container.appendChild(n),this.element=n.querySelector(".js-".concat(this.id,"-switch")),null===(e=this.element)||void 0===e||e.addEventListener("change",this.onChange)}},{key:"cookieIsTrue",value:function(){var e=b("_cookies_accepted=");return!(!e||e!==this.id&&"all"!==e)||e&&e===this.id}},{key:"isChecked",value:function(){return!!this.element&&this.element.checked}},{key:"getId",value:function(){return this.id}}])}(),C=function(){return o((function e(n,o){t(this,e),this.container=n,this.controlsStore=[],this.destroyComponent=o}),[{key:"getManagerMarkup",value:function(e){var t=v(e).manager;return'\n      <div class="p-modal cookie-manager-modal" id="modal">\n        <section class="p-modal__dialog" role="dialog" aria-labelledby="cookie-policy-title" aria-describedby="cookie-policy-content">\n          <header class="p-modal__header">\n            <h2 class="p-modal__title p-heading--4" id="cookie-policy-title">'.concat(t.title,'</h2>\n          </header>\n          <div id="cookie-policy-content">\n            <p>').concat(t.body1,"</p>\n            <p>").concat(t.body2,"</p>\n            ").concat(t.body3?"<p>".concat(t.body3,"</p>"):"",'\n            <aside class="p-accordion">\n              <ul class="p-accordion__list controls">\n              </ul>\n            </aside>\n            <p class="u-no-margin--bottom u-float-right">\n              <button class="p-button--positive js-close" id="cookie-policy-button-accept-all">').concat(t.acceptAll,'</button>\n              <button class="p-button js-save-preferences">').concat(t.SavePreferences,"</button>\n            </p>\n          </div>\n        </section>\n      </div>")}},{key:"render",value:function(e){var t=this;this.container.innerHTML=this.getManagerMarkup(e);var n=this.container.querySelector(".controls");l.forEach((function(o){var i=new P(c(c({},o),{},{onChange:function(){return t.updateAcceptButton()}}),n,e);t.controlsStore.push(i)})),this.updateAcceptButton(),this.initaliseListeners()}},{key:"updateAcceptButton",value:function(){var e=this.controlsStore.filter((function(e){return"essential"!==e.getId()})).every((function(e){return e.isChecked()}));this.container.querySelector(".js-close").style.display=e?"none":"inline-block"}},{key:"initaliseListeners",value:function(){var e=this;this.container.querySelector(".js-close").addEventListener("click",(function(){A("all",e.destroyComponent)(),L()}));for(var t=document.querySelectorAll(".p-accordion"),n=0,o=t.length;n<o;n++)E(t[n]);this.container.querySelector(".js-save-preferences").addEventListener("click",(function(){e.savePreferences(),L(),e.destroyComponent()}))}},{key:"savePreferences",value:function(){var e=this.controlsStore.filter((function(e){return e.isChecked()}));this.controlsStore.length-1===e.length?g("all"):0===e.length?g("essential"):this.controlsStore.forEach((function(e){e.isChecked()&&g(e.getId())})),function(e){var t=e.filter((function(e){return e.isChecked()})),n=c({},u);t.forEach((function(e){n=_(n,e.id)})),w(n)}(this.controlsStore)}}])}();window.gtag||(window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},window.gtag("consent","default",u));return e.cookiePolicy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null,n=document.documentElement.lang,o=!1,i=function(e){(e&&e.preventDefault(),null===t)&&((t=document.createElement("dialog")).classList.add("cookie-policy"),t.style.pointerEvents="none",t.setAttribute("open",!0),t.style.borderStyle="none",document.body.appendChild(t),new O(t,a,c).render(n),document.getElementById("cookie-policy-button-accept-all").focus())},a=function(){new C(t,c).render(n)},c=function(){"function"==typeof e&&e(),document.body.removeChild(t),t=null},r=function(){if(!o){var e;o=!0,(e=b("_cookies_accepted="))&&k(e);var t=document.querySelector(".js-revoke-cookie-manager");t&&t.addEventListener("click",i),function(){var e=b("_cookies_accepted=");return!e||"true"==e||"unset"==e}()&&"hide"!==new URLSearchParams(window.location.search).get("cp")&&i()}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r,!1):r()},e}({});
//# sourceMappingURL=cookie-policy.js.map
